# ES Client - ç°ä»£åŒ– Elasticsearch æ¡Œé¢å®¢æˆ·ç«¯

åŸºäº **Rust + Tauri + Vue 3** æ„å»ºçš„é«˜æ€§èƒ½ Elasticsearch æ¡Œé¢å®¢æˆ·ç«¯ï¼Œæä¾›ç›´è§‚çš„æ•°æ®æŸ¥è¯¢å’Œç®¡ç†ä½“éªŒã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”’ å®‰å…¨è¿æ¥ç®¡ç†** - AES-256-GCM åŠ å¯†å­˜å‚¨ï¼Œæ”¯æŒåŸºæœ¬è®¤è¯å’Œè‡ªå®šä¹‰è¯·æ±‚å¤´
- **ğŸ§  æ™ºèƒ½æŸ¥è¯¢ç³»ç»Ÿ** - å¯è§†åŒ–æŸ¥è¯¢æ„å»ºå™¨ + é«˜çº§ DSL ç¼–è¾‘å™¨
- **ğŸ“Š å¤šè§†å›¾æ•°æ®å±•ç¤º** - è¡¨æ ¼ã€å¡ç‰‡ã€JSON ä¸‰ç§æŸ¥çœ‹æ¨¡å¼ï¼Œæ”¯æŒæ— é™å­—æ®µæ˜¾ç¤º
- **ğŸ” å®æ—¶ç´¢å¼•ç®¡ç†** - ç´¢å¼•åˆ›å»ºã€åˆ é™¤ã€æ˜ å°„æŸ¥çœ‹å’Œç»Ÿè®¡ç›‘æ§
- **ğŸ“± å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„ç°ä»£åŒ–ç•Œé¢

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯ (Rust + Tauri)
- **Rust**: é«˜æ€§èƒ½ã€å†…å­˜å®‰å…¨çš„ç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€
- **Tauri**: è½»é‡çº§è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Tokio**: å¼‚æ­¥è¿è¡Œæ—¶ï¼Œé«˜æ•ˆå¤„ç†å¹¶å‘è¯·æ±‚
- **Reqwest**: ç°ä»£åŒ– HTTP å®¢æˆ·ç«¯åº“

### å‰ç«¯ (Vue 3 + TypeScript)
- **Vue 3**: ç»„åˆå¼ APIï¼Œå“åº”å¼æ¡†æ¶
- **TypeScript**: å®Œæ•´çš„ç±»å‹å®‰å…¨ä¿éšœ
- **Arco Design Vue**: ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **Pinia**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Vite**: å¿«é€Ÿæ„å»ºå·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0
- Rust >= 1.70
- Tauri CLI >= 2.0

### å®‰è£…ä¸è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd es-client-rewrite

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ (å¯åŠ¨å‰åç«¯)
npm run tauri:dev

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
npm run tauri:build
```

## ğŸ“‹ ä¸»è¦åŠŸèƒ½

### è¿æ¥ç®¡ç†
- âœ… å®‰å…¨çš„è¿æ¥ä¿¡æ¯åŠ å¯†å­˜å‚¨
- âœ… è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€éªŒè¯  
- âœ… åŸºæœ¬è®¤è¯å’Œè‡ªå®šä¹‰è¯·æ±‚å¤´æ”¯æŒ
- âœ… è¿æ¥æŒä¹…åŒ–å’Œè‡ªåŠ¨æ¢å¤

### æ•°æ®æŸ¥è¯¢
- âœ… **æ™ºèƒ½æŸ¥è¯¢æ¨¡å¼**: å¯è§†åŒ–æŸ¥è¯¢æ„å»ºå™¨ï¼Œé€‚åˆæ–°æ‰‹ç”¨æˆ·
- âœ… **é«˜çº§æŸ¥è¯¢æ¨¡å¼**: DSL ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢é€»è¾‘
- âœ… å®æ—¶å­—æ®µæ£€æµ‹å’Œç±»å‹è¯†åˆ«
- âœ… æ™ºèƒ½åˆ†é¡µå¤„ç†ï¼Œæ”¯æŒå¤§æ•°æ®é›†

### æ•°æ®å±•ç¤º
- âœ… **è¡¨æ ¼è§†å›¾**: åŠ¨æ€åˆ—é€‰æ‹©ï¼Œæ”¯æŒæ— é™å­—æ®µæ˜¾ç¤º
- âœ… **å¡ç‰‡è§†å›¾**: ç¾è§‚çš„å“åº”å¼å¡ç‰‡å¸ƒå±€
- âœ… **JSONè§†å›¾**: å®Œæ•´çš„åŸå§‹æ•°æ®å±•ç¤º
- âœ… æ–‡æ¡£è¯¦æƒ…å¼¹çª—ï¼Œæ”¯æŒå¤šç§æŸ¥çœ‹æ ¼å¼

### ç´¢å¼•ç®¡ç†
- âœ… ç´¢å¼•åˆ—è¡¨æŸ¥çœ‹å’Œæœç´¢
- âœ… ç´¢å¼•åˆ›å»ºã€åˆ é™¤æ“ä½œ
- âœ… ç´¢å¼•æ˜ å°„ç»“æ„æŸ¥çœ‹
- âœ… æ–‡æ¡£æ•°é‡å’Œå­˜å‚¨ç»Ÿè®¡

### é›†ç¾¤ç›‘æ§
- âœ… å®æ—¶é›†ç¾¤å¥åº·çŠ¶æ€
- âœ… èŠ‚ç‚¹ä¿¡æ¯å’ŒçŠ¶æ€ç›‘æ§
- âœ… é›†ç¾¤ç»Ÿè®¡ä¿¡æ¯å±•ç¤º

## ğŸš€ æ€§èƒ½ä¼˜åŠ¿

ç›¸æ¯”ä¼ ç»Ÿ Electron åº”ç”¨ï¼ŒåŸºäº Tauri çš„æ¶æ„å¸¦æ¥æ˜¾è‘—æ€§èƒ½æå‡ï¼š

| æŒ‡æ ‡ | Electron ç‰ˆæœ¬ | Tauri ç‰ˆæœ¬ | æ€§èƒ½æå‡ |
|------|--------------|------------|---------|
| ğŸ“¦ å®‰è£…åŒ…å¤§å° | ~150MB | ~30MB | **80%** â¬‡ï¸ |
| ğŸ’¾ å†…å­˜å ç”¨ | ~200MB | ~50MB | **75%** â¬‡ï¸ |  
| âš¡ å¯åŠ¨æ—¶é—´ | 3-5ç§’ | 1-2ç§’ | **60%** â¬†ï¸ |

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¸¸ç”¨å‘½ä»¤

```bash
# å‰ç«¯å¼€å‘
npm run dev                # ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run build             # æ„å»ºå‰ç«¯ä»£ç 
vue-tsc --noEmit          # TypeScript ç±»å‹æ£€æŸ¥

# Tauri å¼€å‘  
npm run tauri:dev         # å¯åŠ¨å®Œæ•´åº”ç”¨ (å‰ç«¯ + åç«¯)
npm run tauri:build       # æ„å»ºæ¡Œé¢åº”ç”¨å®‰è£…åŒ…

# Rust åç«¯ (åœ¨ src-tauri/ ç›®å½•ä¸‹)
cargo build               # æ„å»º Rust ä»£ç 
cargo test                # è¿è¡Œæµ‹è¯•
cargo clippy              # ä»£ç æ£€æŸ¥å’Œ lint
```

### é¡¹ç›®ç»“æ„

```
es-client-rewrite/
â”œâ”€â”€ src/                     # Vue 3 å‰ç«¯æºç 
â”‚   â”œâ”€â”€ api/                # API è°ƒç”¨æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ src-tauri/               # Rust åç«¯æºç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs         # åº”ç”¨å…¥å£ç‚¹
â”‚   â”‚   â”œâ”€â”€ commands.rs     # Tauri å‘½ä»¤å¤„ç†
â”‚   â”‚   â”œâ”€â”€ es_client.rs    # Elasticsearch å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ types.rs        # æ•°æ®ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ Cargo.toml          # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ package.json            # Node.js é¡¹ç›®é…ç½®
â””â”€â”€ CLAUDE.md               # AI å¼€å‘åŠ©æ‰‹é…ç½®
```

### Tauri å‘½ä»¤æ¥å£

#### è¿æ¥ç®¡ç†
- `add_connection(connection)` - æ·»åŠ æ–°è¿æ¥ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
- `list_connections()` - è·å–è¿æ¥åˆ—è¡¨
- `remove_connection(id)` - åˆ é™¤è¿æ¥
- `test_connection(id)` - æµ‹è¯•è¿æ¥çŠ¶æ€

#### æ•°æ®æ“ä½œ
- `search_documents(connection_id, query)` - æ‰§è¡Œæœç´¢æŸ¥è¯¢
- `get_cluster_health(connection_id)` - è·å–é›†ç¾¤å¥åº·çŠ¶æ€
- `list_indices(connection_id)` - è·å–ç´¢å¼•åˆ—è¡¨
- `create_index(connection_id, name, mapping)` - åˆ›å»ºç´¢å¼•
- `delete_index(connection_id, name)` - åˆ é™¤ç´¢å¼•

## ğŸ“± éƒ¨ç½²è¯´æ˜

### æ„å»ºå‘è¡Œç‰ˆ
```bash
npm run tauri:build
```

### ç”Ÿæˆçš„å®‰è£…åŒ…
- **Windows**: `*.msi` å®‰è£…åŒ…
- **macOS**: `*.dmg` ç£ç›˜é•œåƒ  
- **Linux**: `*.deb`, `*.rpm` åŒ…ç®¡ç†å™¨æ–‡ä»¶

### ç³»ç»Ÿè¦æ±‚
- **Windows**: Windows 10/11
- **macOS**: macOS 10.15+
- **Linux**: Ubuntu 18.04+ æˆ–å…¶ä»–ä¸»æµå‘è¡Œç‰ˆ

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **AES-256-GCM åŠ å¯†**: è¿æ¥å¯†ç ä½¿ç”¨å†›å·¥çº§åŠ å¯†ç®—æ³•å­˜å‚¨
- **å¯†é’¥ç®¡ç†**: è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç† 32 å­—èŠ‚åŠ å¯†å¯†é’¥
- **æ–‡ä»¶æƒé™**: æ•æ„Ÿé…ç½®æ–‡ä»¶è®¾ç½®ä¸ºä»…ç”¨æˆ·å¯è¯»ï¼ˆ600 æƒé™ï¼‰
- **å†…å­˜å®‰å…¨**: Rust è¯­è¨€ç‰¹æ€§ä¿è¯ç¼–è¯‘æœŸå†…å­˜å®‰å…¨
- **å¹¶å‘å®‰å…¨**: åŸºäºç±»å‹ç³»ç»Ÿçš„çº¿ç¨‹å®‰å…¨ä¿éšœ

## ğŸ› æ•…éšœæ’é™¤

### Linux æ„å»ºä¾èµ–
```bash
# Ubuntu/Debian ç³»ç»Ÿ
sudo apt update
sudo apt install libwebkit2gtk-4.0-dev libgtk-3-dev libappindicator3-dev

# å¦‚æœé‡åˆ° WebKit ç›¸å…³é”™è¯¯
sudo apt install libjavascriptcoregtk-4.0-dev libsoup2.4-dev
```

### æ¸…ç†å’Œé‡å»º
```bash
# æ¸…ç†ç¼“å­˜å¹¶é‡æ–°å®‰è£…
rm -rf node_modules target/
npm install
npm run tauri:build
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºæ”¹è¿›å»ºè®®ï¼

1. Fork é¡¹ç›®åˆ°ä½ çš„ GitHub
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add your feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/your-feature`
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- **Rust**: ä½¿ç”¨ `cargo fmt` å’Œ `cargo clippy`
- **TypeScript**: éµå¾ª ESLint å’Œ Prettier é…ç½®
- **æäº¤ä¿¡æ¯**: éµå¾ª Conventional Commits è§„èŒƒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **Apache-2.0** è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by ES Client Team

</div>